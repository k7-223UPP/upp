Факторизуем число n, т.е. представим его в виде n = p_1 ^ alpha_1 * p_2 ^ alpha_2 * \dots * p_n ^ alpha_n, где p_i --- простые числа.

Известный факт из теории чисел: phi(n) = n * (1 - 1 / p_1) * (1 - 1 / p_2) * \dots * (1 - 1 / p_n).

Для факторизации можно воспользоваться классическим алгоритмом с асимптотичеким временем работы O(\sqrt(n)). 

Зная факторизацию числа n, phi(n) можно посчитать за O(количетсво простых делителей n) = O(\log(n)).

Суммарное время работы алгоритма: O(\sqrt(n)).

Более подробное описание решения --- http://e-maxx.ru/algo/euler_function