Данную задачу можно решить в помощью push-операции на дереве отрезков. Подробнее можно прочитать в разделе "Присвоение на отрезке" в статье о дереве отрезков по ссылке:
http://e-maxx.ru/algo/segment_tree
